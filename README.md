# 檔案結構：
```sh
專案目錄/
├── esp32_dual_network.ino
└── data/
    ├── index.html
    ├── network-config.html
    └── config.json (自動產生)
```

# 編譯和上傳步驟：
## 安裝必要的庫：
- WebServer (內建於ESP32)
- ArduinoJson (需安裝)
- SPIFFS (內建於ESP32)

## 設定開發板：
- 選擇：ESP32 Dev Module
- Flash Size: 4MB (或更大)
- Partition Scheme: Default 4MB with spiffs

## 上傳檔案系統：
- 使用ESP32 Sketch Data Upload工具上傳HTML檔案

## 編譯和上傳：
- 編譯並上傳到ESP32設備

# 主要功能：
網路模式：
- 僅乙太網：只使用RJ45網路
- 僅WiFi：只使用無線網路
- 雙網路：同時使用兩種網路
- 乙太網優先：優先使用RJ45，斷線時自動切換到WiFi
- WiFi優先：優先使用WiFi，斷線時自動切換到RJ45

Web介面功能：
- 即時狀態監控
- 網路模式切換
- 完整網路設定
- 乙太網靜態IP設定
- WiFi設定
- 系統重啟控制
- TCP伺服器狀態顯示

# 設備連接方式：
##　首次使用：
- 連接ESP32的AP熱點
- 瀏覽器訪問 http://192.168.4.1
- 按照設定精靈完成設定

##　正常使用：
- 通過設定的IP地址訪問控制台
- TCP伺服器監聽端口：2024

##　ID通訊格式：
- 客戶端需要發送符合ID格式的數據
- 源ID和目標ID都需要在數據包中指定

## ID通訊伺服器：
- 建立TCP伺服器監聽port 2024
- 支援最多256個同時連接的客戶端
- 實現客戶端之間的資料轉發功能

## ID識別系統：
- 使用特定的ID格式進行身份驗證
- 維護ID資訊表(最多256個ID，每個16 bytes)
- 實現源ID(SID)和目標ID(DID)的驗證機制

## 乙太網支援：
- 使用ETH.h庫實現有線網路連接
- 包含網路事件處理(連接、斷線、獲取IP等)

# 主要函數功能：
## WiFiEvent()：
處理乙太網事件，包括：
- 乙太網啟動、連接、獲取IP、斷線等狀態變更
- 顯示MAC地址、IP地址、連線速度等資訊

## Working_Light()：
- 控制GPIO 2的LED閃爍作為運作指示燈
- 每秒切換一次LED狀態

## New_Client()：
- 處理新客戶端連接請求
- 分配客戶端陣列位置
- 顯示新連接的客戶端資訊

## Client_Recv_Data()：
- 輪詢所有客戶端接收資料
- 呼叫ID驗證函數
- 驗證通過後進行資料處理

## compareID()：
- 驗證接收資料的ID格式是否正確
- 比對SID和DID是否符合預定義的ID格式

## data_process()：
- 解析收到的資料封包
- 提取源ID和目標ID
- 將客戶端資訊存入ID資料表
- 將資料轉發給目標ID對應的客戶端

# 資料結構：
ID資訊表格式：
每個ID佔用16 bytes：
```sh
[0-3]: IPv4地址
[4-5]: Port號（高位元組和低位元組）
[6]: 服務設定（高4位：服務類型，低4位：租用天數高位）
[7]: 租用天數低位
[8-10]: 每日累計封包數
[11-15]: 用戶暱稱(5個字元)
```
